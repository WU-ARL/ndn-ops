cd ../running_version/start_scripts/
./stopAllDaemons.sh
sudo vi /etc/rc.local
and comment out the startAllDaemons.sh line

Check for any ndn packages:
dpkg -l | grep ndn

Remove them if they exist
sudo apt-get remove ndn-cxx

Then purge them
sudo apt-get purge ndn-cxx

Then go into nfd_* and go through the spurs.rms


Check for any ndn related packages and remove them:
> dpkg -l | grep ndn
ii  ndn.cxx                              0.2.1-1ppa1~1precise1               C++ API for NDN (dev branch)
ii  ndn.cxx-dev                          0.2.1-1ppa1~1precise1               C++ API for NDN (dev branch)
ii  ndn.cxx-security-tools               0.2~rc2-ppa1~precise1               Tools to work with public, private keys and NDN certificates
ii  python-ndn-exp                       0.2~rc1-ppa1~precise1               Python bindings for NDN (experimental branch)
> sudo apt-get remove ndn.cxx ndn.cxx-dev ndn.cxx-security-tools python-ndn-exp

Then Check again for any ndn related packages and purge what is left
> dpkg -l | grep ndn
> sudo apt-get purge ndn.cxx 


Then  > sudo adduser nlsr

Then ./git_and_apt_install.sh 

sudo initctl stop nfd

cd etc_default/
sudo cp ndn-tlv-ping.caida /etc/default/ndn-tlv-ping 
sudo cp nfd-autoreg.caida  /etc/default/nfd-autoreg
sudo cp nfd-status-http-server /etc/default/
cd ..
cd NFD_conf_files/
sudo cp nfd.conf /etc/ndn/
sudo cp nfd-init.sh /etc/ndn/
cd ..
cd NLSR_conf_files/
sudo cp nlsr_caida.conf /etc/ndn/nlsr/nlsr.conf
cd Upstart/
sudo cp ndn-tlv-ping.conf.caida /etc/init/ndn-tlv-ping.conf 
sudo cp nfd-autoreg.conf /etc/init/
sudo cp nfd.conf /etc/init/nfd.conf 
sudo cp nfd-status-http-server.conf /etc/init/
sudo cp nlsr.conf /etc/init/


Then do the NLSR_key_scripts stuff

Copy root.cert from spurs to /etc/ndn/nlsr/keys


chown anything that needs it.

Then start nfd:
sudo initctl start nfd

Then wait a few seconds and check the upstart log directory to make sure nothing is going crazy:
ls -ltr /var/log/upstart


